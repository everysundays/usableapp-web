---
import Layout from '../layouts/Layout.astro';
---

<Layout>
  <main>
    <!-- Big Header -->
    <header class="hero">
      <div class="hero-logo">
        <svg viewBox="0 0 438 659" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M438 397.938V568.152C438 617.858 397.706 658.152 348 658.152H116.44C126.283 628.836 136.001 603.393 145.691 581.093C163.957 539.713 181.234 502.417 226.266 466.035C270.276 430.47 335.548 404.292 404.289 399.103C415.444 398.235 426.69 397.853 438 397.938Z" fill="currentColor"/>
          <path d="M235.453 23.6982C256.626 9.48283 298.426 -2.51666 353.144 0.456004C385.3 2.20299 414.432 8.75157 438 17.6132V237.673C422.742 239.099 407.418 240.387 391.998 241.582C311.703 248.289 226.869 249.134 135.412 278.926C88.9598 293.091 41.0413 319.678 0 355.367V190.511C27.3545 212.537 63.2253 223.936 100.847 219.396C174.868 210.465 227.635 143.218 218.703 69.1962C215.173 39.938 223.235 31.9016 235.453 23.6982Z" fill="currentColor"/>
        </svg>
      </div>
      <h1>
        We find good problems.<br>
        You make <span class="accent">Usable Apps.</span>
      </h1>
      <p class="subtitle">We help startups and SMEs discover what their business really needs—before writing a single line of code.</p>
    </header>

    <!-- Content Sections - 2 Column Layout -->
    <section class="content-sections">

      <!-- Discovery Section -->
      <div class="section-block block-2col w-40 card card-discovery">
        <div class="section-content">
          <span class="block-label">Discovery Process</span>
          <h2 class="block-title">Right Question First</h2>
          <p class="block-text">We discover what your business actually needs—not just what you ask for.</p>
        </div>
        <div class="section-visual">
          <i class="fas fa-search"></i>
        </div>
      </div>

      <!-- Steps Section -->
      <div class="content-steps-flex w-60">
        <div class="card card-step-01">
          <span class="block-label">Phase 01</span>
          <h3 class="block-title">Foundation</h3>
          <p class="block-text">Dig into patterns. Refine problem statement.</p>
          <div class="section-visual">
            <i class="fas fa-layer-group"></i>
          </div>
        </div>
        <div class="card card-step-02">
          <span class="block-label">Phase 02</span>
          <h3 class="block-title">Validation</h3>
          <p class="block-text">Real user research. Validate assumptions.</p>
          <div class="section-visual">
            <i class="fas fa-flask"></i>
          </div>
        </div>
        <div class="card card-step-03">
          <span class="block-label">Phase 03</span>
          <h3 class="block-title">Deliverables</h3>
          <p class="block-text">Prototype & BRS with KPIs.</p>
          <div class="section-visual">
            <i class="fas fa-file-alt"></i>
          </div>
        </div>
      </div>

      <!-- Methodology Section -->
      <div class="section-block block-2col w-30 card card-methodology">
        <div class="section-content">
          <span class="block-label">Methodology</span>
          <h2 class="block-title">Layered Discovery</h2>
          <p class="block-text">Every insight from human analysis, never assumptions.</p>
        </div>
        <div class="section-visual">
          <i class="fas fa-sitemap"></i>
        </div>
      </div>

      <!-- Features Section -->
      <div class="section-block block-2col w-30 card card-feature-users">
        <div class="section-content">
          <h2 class="block-title">Real Users</h2>
          <p class="block-text">Validated with actual end-users before launch.</p>
        </div>
        <div class="section-visual">
          <i class="fas fa-users"></i>
        </div>
      </div>

      <div class="section-block block-2col w-40 card card-feature-contracts">
        <div class="section-content">
          <h2 class="block-title">Flexible Contracts</h2>
          <p class="block-text">Time-based pricing adapted to your project.</p>
        </div>
        <div class="section-visual">
          <i class="fas fa-clock"></i>
        </div>
      </div>

      <div class="section-block block-2col w-33 card card-feature-ai">
        <div class="section-content">
          <h2 class="block-title">AI-Powered Drafts</h2>
          <p class="block-text">AI handles drafting. Humans handle thinking.</p>
        </div>
        <div class="section-visual">
          <i class="fas fa-robot"></i>
        </div>
      </div>

      <div class="section-block block-2col w-33 card card-feature-poc">
        <div class="section-content">
          <h2 class="block-title">5-7 PoCs</h2>
          <p class="block-text">Thorough validation before final delivery.</p>
        </div>
        <div class="section-visual">
          <i class="fas fa-check-circle"></i>
        </div>
      </div>

      <!-- Case Studies -->
      <div class="section-block block-2col w-33 card card-case-alpha">
        <div class="section-content">
          <span class="block-label">Case Study</span>
          <h3 class="block-title">Project Alpha</h3>
          <p class="block-text">50% efficiency gain by solving real bottleneck.</p>
          <a href="#" class="block-link">Read more →</a>
        </div>
        <div class="section-visual">
          <i class="fas fa-briefcase"></i>
        </div>
      </div>

      <div class="section-block block-2col w-40 card card-case-beta">
        <div class="section-content">
          <span class="block-label">Case Study</span>
          <h3 class="block-title">Project Beta</h3>
          <p class="block-text">3x user growth by addressing mobile needs.</p>
          <a href="#" class="block-link">Read more →</a>
        </div>
        <div class="section-visual">
          <i class="fas fa-mobile-alt"></i>
        </div>
      </div>

      <!-- Get Started -->
      <div class="section-block block-2col block-dark w-60 card card-cta">
        <div class="section-content">
          <span class="block-label">Engagement</span>
          <h2 class="block-title">Two Meetings. Clear Path.</h2>
          <p class="block-text">Your app's day-1 starts with discovery.</p>
        </div>
        <div class="section-visual">
          <i class="fas fa-rocket"></i>
        </div>
      </div>

      <!-- Meetings -->
      <div class="section-block block-2col w-50 card card-meeting-1">
        <div class="section-content">
          <span class="block-label">Meeting 1</span>
          <h3 class="block-title">Your Story</h3>
          <p class="block-text">60-90 mins. Free. No commitment. NDA available.</p>
          <a href="#" class="block-link">Schedule →</a>
        </div>
        <div class="section-visual">
          <i class="fas fa-comments"></i>
        </div>
      </div>

      <div class="section-block block-2col w-50 card card-meeting-2">
        <div class="section-content">
          <span class="block-label">Meeting 2</span>
          <h3 class="block-title">Our Plan</h3>
          <p class="block-text">Roadmap, timeline, custom PoC strategy.</p>
        </div>
        <div class="section-visual">
          <i class="fas fa-map"></i>
        </div>
      </div>


    </section>

    <!-- Business Card - Outside flex for height anomaly -->
    <div class="block-card-wrapper">
      <div class="business-card">
        <!-- Front -->
        <div class="card-face card-front">
          <div class="card-front-content">
            <div class="card-person">
              <h3 class="card-company">Usable App Co.</h3>
              <p class="card-tagline">Business Requirements Consulting</p>
            </div>
            <div class="card-contact-info">
              <p>+66 61 831 7773</p>
              <p>usableapp.co@gmail.com</p>
              <p class="card-address">36 Thawiwattana 47<br>Bangkok 10170</p>
            </div>
            <div class="card-bottom">
              <span class="card-line"></span>
              <svg class="card-logo-small-svg" viewBox="0 0 438 659" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M438 397.938V568.152C438 617.858 397.706 658.152 348 658.152H116.44C126.283 628.836 136.001 603.393 145.691 581.093C163.957 539.713 181.234 502.417 226.266 466.035C270.276 430.47 335.548 404.292 404.289 399.103C415.444 398.235 426.69 397.853 438 397.938Z" fill="currentColor"/>
                <path d="M235.453 23.6982C256.626 9.48283 298.426 -2.51666 353.144 0.456004C385.3 2.20299 414.432 8.75157 438 17.6132V237.673C422.742 239.099 407.418 240.387 391.998 241.582C311.703 248.289 226.869 249.134 135.412 278.926C88.9598 293.091 41.0413 319.678 0 355.367V190.511C27.3545 212.537 63.2253 223.936 100.847 219.396C174.868 210.465 227.635 143.218 218.703 69.1962C215.173 39.938 223.235 31.9016 235.453 23.6982Z" fill="currentColor"/>
              </svg>
            </div>
          </div>
        </div>
        <!-- Back -->
        <div class="card-face card-back">
          <div class="card-back-content">
            <svg class="card-back-logo" viewBox="0 0 438 659" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M438 397.938V568.152C438 617.858 397.706 658.152 348 658.152H116.44C126.283 628.836 136.001 603.393 145.691 581.093C163.957 539.713 181.234 502.417 226.266 466.035C270.276 430.47 335.548 404.292 404.289 399.103C415.444 398.235 426.69 397.853 438 397.938Z" fill="currentColor"/>
              <path d="M235.453 23.6982C256.626 9.48283 298.426 -2.51666 353.144 0.456004C385.3 2.20299 414.432 8.75157 438 17.6132V237.673C422.742 239.099 407.418 240.387 391.998 241.582C311.703 248.289 226.869 249.134 135.412 278.926C88.9598 293.091 41.0413 319.678 0 355.367V190.511C27.3545 212.537 63.2253 223.936 100.847 219.396C174.868 210.465 227.635 143.218 218.703 69.1962C215.173 39.938 223.235 31.9016 235.453 23.6982Z" fill="currentColor"/>
            </svg>
            <span class="card-back-name">Usable App</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <p>Usable App Co. &copy; {new Date().getFullYear()}</p>
    </footer>
  </main>
</Layout>

<style>
  main {
    max-width: 1100px;
    margin: 0 auto;
    padding: var(--space-lg);
  }

  /* Hero */
  .hero {
    text-align: center;
    padding: var(--space-4xl) var(--space-xl);
  }

  .hero-logo {
    display: flex;
    justify-content: center;
    margin-bottom: var(--space-xl);
  }

  .hero-logo svg {
    width: 60px;
    height: auto;
    color: var(--color-navy);
  }

  .hero h1 {
    font-size: clamp(var(--text-4xl), 8vw, var(--text-6xl));
    margin-bottom: var(--space-xl);
  }

  .hero .accent {
    color: var(--color-accent);
  }

  .subtitle {
    font-size: var(--text-lg);
    color: var(--color-text-light);
    max-width: 480px;
    margin: 0 auto;
  }

  /* Content Sections Container */
  .content-sections {
    display: flex;
    flex-flow: row wrap;
    gap: var(--space-md);
  }

  /* Steps Flex Layout */
  .content-steps-flex {
    display: flex;
    gap: var(--space-md);
    flex: 1 1 calc(60% - var(--space-md));
    min-width: 300px;
  }

  .content-steps-flex .card {
    flex: 1;
  }

  /* Section Block Base */
  .section-block {
    border-radius: var(--radius-lg);
    padding: var(--space-xl);
    cursor: pointer;
    transition: filter var(--transition-base), transform var(--transition-base);
  }

  .section-block:hover {
    filter: brightness(0.97) saturate(1.1) sepia(0.05);
  }

  /* Card styling */
  .section-block.card {
    border-radius: 4px;
    cursor: pointer;
  }

  .section-block.card:hover {
    filter: none;
  }

  /* Standalone card styling */
  .card {
    border-radius: 4px;
  }

  .card:hover {
    filter: none;
  }

  /* 2-Column Layout */
  .block-2col {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-xl);
    align-items: center;
  }

  .section-content {
    display: flex;
    flex-direction: column;
  }

  .section-visual {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .section-visual i {
    font-size: 8rem;
    color: var(--color-navy);
    opacity: 0.15;
  }

  /* Demonstration - Single Column Centered */
  .block-demo {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .block-demo .block-icon {
    position: relative;
    right: auto;
    bottom: auto;
    margin-bottom: var(--space-md);
  }

  /* Legacy Block Base for compatibility */
  .block {
    display: flex;
    flex-direction: column;
    cursor: pointer;
    transition: filter var(--transition-base), transform var(--transition-base);
  }

  .block:hover {
    filter: brightness(0.97) saturate(1.1) sepia(0.05);
  }

  /* Expanded Block Overlay */
  .block-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: opacity var(--transition-base), visibility var(--transition-base);
  }

  .block-overlay.active {
    opacity: 1;
    visibility: visible;
  }

  .block-expanded {
    position: fixed;
    top: var(--space-5xl);
    bottom: var(--space-5xl);
    left: var(--space-md);
    right: var(--space-md);
    z-index: 1001;
    opacity: 0;
    visibility: hidden;
    transform: scale(0.9);
    transition: opacity var(--transition-base), visibility var(--transition-base), transform var(--transition-base);
    overflow: hidden;
    border: none;
    outline: none;
    box-shadow: var(--shadow-md);
  }

  .block-expanded.active {
    opacity: 1;
    visibility: visible;
    transform: scale(1);
  }

  .block-expanded .block-expanded-content {
    padding: var(--space-2xl);
    height: 100%;
  }

  .block-expanded .block-icon {
    font-size: 12rem;
    opacity: 0.04;
  }

  /* Width variants */
  .w-20 { flex: 1 1 calc(20% - var(--space-md)); }
  .w-25 { flex: 1 1 calc(25% - var(--space-md)); }
  .w-30 { flex: 1 1 calc(30% - var(--space-md)); }
  .w-33 { flex: 1 1 calc(33.333% - var(--space-md)); }
  .w-40 { flex: 1 1 calc(40% - var(--space-md)); }
  .w-50 { flex: 1 1 calc(50% - var(--space-md)); }
  .w-60 { flex: 1 1 calc(60% - var(--space-md)); }
  .w-100 { flex: 1 1 100%; }

  /* Block dark */
  .block-dark {
    background: var(--color-navy);
    color: var(--color-white);
  }

  .block-dark .block-label {
    color: rgba(255, 255, 255, 0.5);
  }

  .block-dark .block-title {
    color: var(--color-white);
  }

  .block-dark .block-text {
    color: rgba(255, 255, 255, 0.7);
  }

  .block-dark .block-icon {
    color: var(--color-white);
    opacity: 0.1;
  }

  /* Block CTA */
  .block-cta {
    background: var(--color-yellow);
    text-align: center;
    justify-content: center;
    align-items: center;
    padding: var(--space-3xl);
  }

  .block-cta .block-title {
    margin-bottom: var(--space-lg);
  }

  .cta-button {
    display: inline-flex;
    align-items: center;
    gap: var(--space-sm);
    background: var(--color-navy);
    color: var(--color-white);
    padding: var(--space-md) var(--space-xl);
    border-radius: var(--radius-full);
    font-weight: 600;
    font-size: var(--text-base);
    transition: transform var(--transition-base);
  }

  .cta-button:hover {
    transform: scale(1.05);
  }

  /* Block Steps - 3 columns with vertical dividers */
  .block-steps {
    flex-direction: row;
    padding: 0;
  }

  .block-steps .step {
    flex: 1;
    padding: var(--space-xl);
    border-right: 1px solid rgba(0, 0, 0, 0.1);
  }

  .block-steps .step:last-child {
    border-right: none;
  }

  .block-steps .block-title {
    font-size: var(--text-lg);
  }

  /* Flippable Business Card */
  .block-card-wrapper {
    background: transparent;
    padding: 0;
    width: 240px;
    margin-top: var(--space-md);
    margin-left: auto;
    perspective: 1000px;
  }

  .business-card {
    width: 100%;
    aspect-ratio: 55 / 85;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.6s ease;
    cursor: pointer;
  }

  .business-card:hover {
    transform: rotateY(180deg);
  }

  .card-face {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 8px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08);
  }

  /* Front of card - White */
  .card-front {
    background: var(--color-white);
  }

  .card-front-content {
    height: 100%;
    padding: var(--space-xl);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  .card-person {
    margin-bottom: var(--space-lg);
  }

  .card-company {
    font-size: var(--text-xl);
    color: var(--color-navy);
    margin-bottom: var(--space-xs);
  }

  .card-tagline {
    font-size: var(--text-xs);
    color: var(--color-text-muted);
  }

  .card-contact-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: var(--space-xs);
  }

  .card-contact-info p {
    font-size: var(--text-sm);
    color: var(--color-text);
    margin: 0;
  }

  .card-address {
    margin-top: var(--space-md);
    font-size: var(--text-xs);
    color: var(--color-text-muted);
  }

  .card-bottom {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-top: auto;
  }

  .card-line {
    flex: 1;
    height: 1px;
    background: var(--color-navy);
  }

  .card-logo-small-svg {
    width: 24px;
    height: auto;
    color: var(--color-navy);
    flex-shrink: 0;
  }

  /* Back of card - Navy with logo */
  .card-back {
    background: var(--color-navy);
    transform: rotateY(180deg);
  }

  .card-back-content {
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--space-2xl);
    gap: var(--space-md);
  }

  .card-back-logo {
    width: 24px;
    height: auto;
    color: var(--color-white);
  }

  .card-back-name {
    font-family: 'Funnel Display', -apple-system, BlinkMacSystemFont, sans-serif;
    font-size: var(--text-sm);
    font-weight: 500;
    color: var(--color-white);
    letter-spacing: 0.05em;
  }

  /* Footer */
  .footer {
    text-align: center;
    padding: var(--space-3xl) var(--space-xl);
    color: var(--color-text-muted);
    font-size: var(--text-sm);
  }

  /* Responsive */
  @media (max-width: 900px) {
    .w-20, .w-25, .w-30, .w-33, .w-40, .w-50, .w-60 {
      flex: 1 1 calc(50% - var(--space-md));
      min-width: 250px;
    }
  }

  @media (max-width: 600px) {
    main {
      padding: var(--space-md);
    }

    .hero {
      padding: var(--space-xl) var(--space-md);
      min-height: 90vh;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      text-align: left;
    }

    .hero-logo {
      justify-content: flex-start;
      margin-bottom: var(--space-3xl);
    }

    .hero-logo svg {
      width: 48px;
    }

    .hero h1 {
      font-size: var(--text-4xl);
      margin-bottom: auto;
    }

    .subtitle {
      margin: 0;
      margin-top: auto;
      padding-bottom: var(--space-2xl);
      max-width: 100%;
    }

    .w-20, .w-25, .w-30, .w-33, .w-40, .w-50, .w-60 {
      flex: 1 1 100%;
      min-width: 100%;
    }

    .block-steps {
      flex-direction: column;
    }

    .block-steps .step {
      border-right: none;
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }

    .block-steps .step:last-child {
      border-bottom: none;
    }

    .block-card-wrapper {
      margin-left: auto;
      margin-right: auto;
    }

    .block-2col {
      grid-template-columns: 1fr;
      gap: var(--space-lg);
    }

    .section-visual {
      order: -1;
    }

    .section-visual i {
      font-size: 5rem;
    }

    .block-steps {
      display: flex;
    }
  }
</style>

<!-- Overlay for expanded blocks -->
<div class="block-overlay" id="blockOverlay"></div>
<div class="section-block block-expanded" id="blockExpanded">
  <div class="block-expanded-content" id="blockExpandedContent"></div>
</div>

<!-- Card Expansion Script - Commented Out -->
<!--
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const blocks = document.querySelectorAll('.section-block');
    const overlay = document.getElementById('blockOverlay');
    const expanded = document.getElementById('blockExpanded');
    const expandedContent = document.getElementById('blockExpandedContent');

    blocks.forEach(block => {
      block.addEventListener('click', (e) => {
        // Don't expand if clicking a link
        if (e.target.closest('a')) return;

        // Clone content into expanded view
        expandedContent.innerHTML = block.innerHTML;

        // Copy background class
        expanded.className = 'section-block block-expanded';
        if (block.classList.contains('block-dark')) {
          expanded.classList.add('block-dark');
        }

        // Show overlay and expanded block
        overlay.classList.add('active');
        expanded.classList.add('active');
        document.body.style.overflow = 'hidden';
      });
    });

    const closeExpanded = () => {
      overlay.classList.remove('active');
      expanded.classList.remove('active');
      document.body.style.overflow = '';
    };

    overlay.addEventListener('click', closeExpanded);
    expanded.addEventListener('click', closeExpanded);

    // Close on Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeExpanded();
    });
  });
</script>
-->
